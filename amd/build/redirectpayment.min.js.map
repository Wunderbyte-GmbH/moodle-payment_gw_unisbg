{"version":3,"file":"redirectpayment.min.js","sources":["../src/redirectpayment.js"],"sourcesContent":["import Ajax from 'core/ajax';\n\nconst SELECTORS = {\n    PAYMENTOPTIONSBUTTONS: '[data-action=\"paymentoption\"]',\n};\n\nexport const init = () => {\n\n    const buttons = document.querySelectorAll(SELECTORS.PAYMENTOPTIONSBUTTONS);\n    buttons.forEach(button => {\n\n        if (button.initialized) {\n            return;\n        }\n        button.initialized = true;\n\n        const component = button.dataset.component;\n        const paymentarea = button.dataset.paymentarea;\n        const itemid = button.dataset.itemid;\n        const cartid = button.dataset.cartid;\n        const providerid = button.dataset.index;\n\n        button.addEventListener('click', e => {\n            // eslint-disable-next-line no-console\n            console.log(e, component, paymentarea, itemid, cartid, providerid);\n\n            callRedirect(component, paymentarea, itemid, cartid, providerid);\n        });\n\n    });\n};\n\n/**\n * Redirect function.\n * @param {*} component\n * @param {*} paymentarea\n * @param {*} itemid\n * @param {*} cartid\n * @param {integer} providerid\n */\nfunction callRedirect(component, paymentarea, itemid, cartid, providerid) {\n\n    // eslint-disable-next-line no-console\n    console.log('redirectpayment', component,\n        paymentarea,\n        itemid, cartid, providerid);\n\n    Ajax.call([{\n        methodname: \"paygw_unisbg_redirectpayment\",\n        args: {\n            component,\n            paymentarea,\n            itemid,\n            cartid,\n            providerid\n        },\n        done: function(data) {\n            location.href = data.url;\n        }\n    }]);\n\n}"],"names":["Ajax"],"mappings":";;;;;;IAEA,MAAM,SAAS,GAAG;IAClB,IAAI,qBAAqB,EAAE,+BAA+B;IAC1D,CAAC,CAAC;AACF;AACY,UAAC,IAAI,GAAG,MAAM;AAC1B;IACA,IAAI,MAAM,OAAO,GAAG,QAAQ,CAAC,gBAAgB,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC;IAC/E,IAAI,OAAO,CAAC,OAAO,CAAC,MAAM,IAAI;AAC9B;IACA,QAAQ,IAAI,MAAM,CAAC,WAAW,EAAE;IAChC,YAAY,OAAO;IACnB,SAAS;IACT,QAAQ,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC;AAClC;IACA,QAAQ,MAAM,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC;IACnD,QAAQ,MAAM,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC;IACvD,QAAQ,MAAM,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;IAC7C,QAAQ,MAAM,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;IAC7C,QAAQ,MAAM,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC;AAChD;IACA,QAAQ,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,IAAI;IAC9C;IACA,YAAY,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,WAAW,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;AAC/E;IACA,YAAY,YAAY,CAAC,SAAS,EAAE,WAAW,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;IAC7E,SAAS,CAAC,CAAC;AACX;IACA,KAAK,CAAC,CAAC;IACP,EAAE;AACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,SAAS,YAAY,CAAC,SAAS,EAAE,WAAW,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE;AAC1E;IACA;IACA,IAAI,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,SAAS;IAC5C,QAAQ,WAAW;IACnB,QAAQ,MAAM,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;AACpC;IACA,IAAIA,wBAAI,CAAC,IAAI,CAAC,CAAC;IACf,QAAQ,UAAU,EAAE,8BAA8B;IAClD,QAAQ,IAAI,EAAE;IACd,YAAY,SAAS;IACrB,YAAY,WAAW;IACvB,YAAY,MAAM;IAClB,YAAY,MAAM;IAClB,YAAY,UAAU;IACtB,SAAS;IACT,QAAQ,IAAI,EAAE,SAAS,IAAI,EAAE;IAC7B,YAAY,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC;IACrC,SAAS;IACT,KAAK,CAAC,CAAC,CAAC;AACR;IACA;;;;;;;;;;"}